@page
@model WebAdmin.Pages.Account.Index1Model
@{
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Kaiadmin - Bootstrap 5 Admin Dashboard</title>
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport" />
</head>
<body>


    <!--Search-->
    <div class="input-group">
        <form method="post" class="input-group">
            <input name="txt_search" type="search" class="form-control rounded" placeholder="Search..." value="@ViewBag.filter_search" aria-label="Search" aria-describedby="search-addon" />
            <span class="input-group-text border-0" id="search-addon">
            </span>
            <button asp-page-handler="Search" type="submit" class="btn btn-outline-success" data-mdb-ripple-init>Tìm Kiếm</button>

        </form>
        <div style="margin-top:20px;">
            <button class="btn btn-outline-info" id="advancedSearchBtn" data-mdb-ripple-init>Tìm Kiếm Nâng Cao</button>
        </div>

    </div>

    <div id="advancedSearchModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="formAdvanced">
                <form asp-page-handler="SearchAdvanced" method="post" class="input-group">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    @* <div class="form-group"> *@
                    <div>
                        <label class="control-label">Email</label>
                        <input asp-for="filter.Email" class="form-control-sm" />
                        <span asp-validation-for="filter.Email" class="text-danger"></span>
                    </div>
                    <div>
                        <label class="control-label">Tên Tài Khoản</label>
                        <input asp-for="filter.UserName" class="form-control-sm" />
                        <span asp-validation-for="filter.UserName" clas="text-danger"></span>
                    </div>
                    @* </div> *@

                    <div>
                        <label class="control-label">Vai Trò</label>
                        <select asp-for="filter.Role">
                            <option value="ADMIN">Admin</option>
                            <option value="STAFF">Nhân Viên</option>
                            <option value="MEMBER">Người Chơi</option>
                        </select>
                    </div>

                    <div>
                        <label class="control-label">Giới Tính</label>
                        <select asp-for="filter.Gender">
                            <option value="MALE">Đàn Ông</option>
                            <option value="FEMALE">Phụ Nữ</option>
                            <option value="ORTHER">Khác</option>
                        </select>
                    </div>

                    <div>
                        <label class="control-label">Trạng Thái</label>
                        <select asp-for="filter.AccountStatus">
                            <option value="NOT_VERIFY">Chưa Được Kích Hoạt</option>
                            <option value="ACTIVE">Hoạt Động</option>
                            <option value="INACTIVE">Không Hoạt Động</option>
                        </select>
                    </div>

                    @* <div class="form-group"> *@
                        <div>
                            <label class="form-label">Số Tiền Trong Tài Khoản</label>
                            <input asp-for="filter.UpBalance" class="form-control-sm" />
                            <span asp-validation-for="filter.UpBalance" class="text-danger"></span>
                        </div>

                        <div>
                            <label class="control-label">Họ Tên</label>
                            <input asp-for="filter.Fullname" class="form-control-sm" />
                            <span asp-validation-for="filter.Fullname" class="text-danger"></span>
                        </div>
                    @* </div> *@

                    @* <div class="form-group"> *@
                        <div>
                            <label class="form-label">Năm Sinh</label>
                            <input asp-for="filter.Yob" class="form-control-sm" />
                            <span asp-validation-for="filter.Yob" class="text-danger"></span>
                        </div>

                        <div>
                            <label class="control-label">Số Định Danh</label>
                            <input asp-for="filter.IdentityCardNumber" class="form-control-sm" />
                            <span asp-validation-for="filter.IdentityCardNumber" class="text-danger"></span>
                        </div>
                    @* </div> *@

                    <button class="btn btn-google-plus" type="submit">Lưu Thông Tin</button>


                </form>
            </div>

        </div>

        </div>


    <!--End Search-->


    <div class="table-container">
        <br />

        <a href="Create" class="btn btn-success">Tạo tài khoản nhân viên</a>
        <br />
        <!--Table list Account-->
        <table class="table table-hover" style="margin-top:20px;">
            <tr>
                <th>#</th>
                <th></th>
                <th>Full Name</th>
                <th>Email</th>
                <th>Username</th>
                <th>Gender</th>
                <th>Role</th>
                <th>Is Online</th>
                <th>Account Status</th>
                <th>Inactive/Active</th>
                <th></th>
            </tr>
            @if (Model.data.Results is not null)
            {
                int count = 0;
                @foreach (var e in Model.data.Results)
                {
                    <tr>
                        <td>@(count += 1)</td>
                        <td class="img-cell"><img src="@e.Image" alt="N/A" /></td>
                        <td>@e.Fullname</td>
                        <td>@e.Email</td>
                        <td>@e.UserName</td>
                        <td>@e.Gender</td>
                        <td>@e.Role</td>
                        <td>@e.IsOnline</td>
                        <td>@e.AccountStatus</td>
                        <td><a asp-page-handler="Inactive" asp-route-id="@e.AccountId"  class="btn btn-dribbble" >Ẩn</a> | <a asp-page-handler="Active" asp-route-id="@e.AccountId" class="btn btn-warning">Kích hoạt</a></td>
                        <td><a asp-page="./Details" asp-route-id="@e.AccountId" class="btn btn-dark">Chi tiết</a> </td>
                    </tr>

                }
            }
        </table>
        </<div>

            <!--End Table-->
            <!--Paging-->
            <div class="pagination">
                <li class="page-item"><a asp-route-number="@(Model.CurrentPage - 1)" class="page-link">&laquo;</a></li>
                <li class="page-item active"><a asp-route-number="@Model.CurrentPage" class="page-link">@Model.CurrentPage</a></li>
                <li class="page-item"><a asp-route-number="@(Model.CurrentPage + 1)" class="page-link">&raquo;</a></li>
            </div>
            <!--End Paging-->
        </div>
</body>
</html>
